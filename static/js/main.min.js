function preloader(){document.querySelector("body").classList.add("loading")}document.addEventListener("DOMContentLoaded",preloader),function(){"use strict";function e(e){document.querySelector(".cart-section").style.maxHeight=window.innerHeight-document.querySelector(".cart-section").offsetTop+e+"px"}var t,a,i=document.querySelector("body"),o=!1,r=($(window).outerWidth(),{initialized:!1,initialize:function(){this.initialized||(this.initialized=!0,this.build())},build:function(){null!==document.querySelector(".preloader")&&this.pagePreloader(),a=this.getBrowser(),"mobile"==a.platform?(o=!0,document.documentElement.classList.add("mobile")):document.documentElement.classList.add("desktop"),"ie"==a.browser&&document.documentElement.classList.add("ie"),("ie"==a.browser&&a.versionShort<9||("opera"==a.browser||"operaWebkit"==a.browser)&&a.versionShort<18||"firefox"==a.browser&&a.versionShort<30)&&alert("Обновите браузер"),this.materialPlagins(),null!==document.getElementById("map")&&this.mapFunction(),this.swiperSliders(),this.appearFunction(),this.copyright(),this.validateForm(),this.mobileMenu(),this.cartFunction(),null!==document.querySelector(".filter-box")&&this.filterFunction(),null!==document.querySelector(".product-char-col .change-size")&&this.productFunction()},productFunction:function(){function e(){var e=document.querySelector(".grav-img-box .text-grav").innerText,t=e.match(/(.{1,1})/gim)||"";t.forEach(function(e,a){t[a]='<span class="char'+a+'">'+e+"</span>"}),document.querySelector(".grav-img-box .text-grav").innerHTML=t.join("")}$(".change-size span").on("click",function(){var e=$(this).data("size"),t=$(this).data("price");$(".change-size span").removeClass("active"),$(this).addClass("active"),$(".js_weight").text(e),$(".js_prod_price").text(t)}),e(),document.querySelector(".grav-field input").addEventListener("input",function(){var t=this.value;document.querySelector(".text-grav ").innerHTML=t,e()}),$(".grav-change span").on("click",function(){$(".grav-change span").removeClass("active"),$(this).addClass("active"),$(".text-grav").attr("class","text-grav"),$(".text-grav").addClass($(this).data("class"))})},filterFunction:function(){$(".filter-box__head ").on("click",function(){$(this).parents(".filter-box").toggleClass("visible"),$(this).parents(".filter-box").find(".filter-bix__body").slideToggle(500)})},cartFunction:function(){function t(){a=0,$(".cart-body-table .js_total_product").each(function(e,t){var i=parseInt($(t).text().replace(/\D+/g,""));a+=i}),$(".js_total").text(a)}$(".js_cart").on("click",function(){return $(".cart-section").toggleClass("visible"),$(".overlay-cart").toggleClass("visible"),$("body").toggleClass("noscroll"),e($(".header").hasClass("fix")?window.innerWidth<1023?20:10:0),!1}),$(window).resize(function(){e($(".header").hasClass("fix")?window.innerWidth<1023?20:10:0)}),$(".js_close_cart, .cont-shop").on("click",function(){$(".cart-section").removeClass("visible"),$(".overlay-cart").removeClass("visible"),$("body").removeClass("noscroll")});var a,i,o,r;$(".count-cart").text($(".cart-body table tr").length),t(),$(".cart-body-table").find(".quantity").on("input",function(){this.value=this.value.replace(/^\.|[^\d\.]|\.(?=.*\.)|^0+(?=\d)/g,"")}),$(".cart-body-table").find(".quantity").on("blur ",function(){r=$(this).parents("tr").data("product-id"),o=parseFloat($('[data-product-id="'+r+'"]').find(".quantity").data("price-product")),i=parseFloat($(this).val()),$('[data-product-id="'+r+'"]').find(".js_total_product").text(o*i),t()}),$(document).on("click",".js_remove",function(){r=$(this).parents("tr").data("product-id"),$('[data-product-id="'+r+'"]').remove(),$(".count-cart").text($(".cart-body table tr").length),console.log($(".cart-body table tr").length),0===$(".cart-body table tr").length&&$(".cart-body-table").html('<div class="align-center empty-cart">Корзина пуста</div>'),t()})},mapFunction:function(){if($("#map").length>0){var e=$("#map").data("coords").split(","),t=new google.maps.LatLng(e[0],e[1]),a=new google.maps.LatLng(e[0],e[1]),i={zoom:15,center:a,scrollwheel:!1,disableDefaultUI:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},o=new google.maps.Map(document.getElementById("map"),i);new google.maps.Marker({position:t,map:o,icon:"images/ico-16.png"})}},mobileMenu:function(){$(document).on("click",".drop-nav",function(){$(this).parents(".with-menu").toggleClass("active"),$(this).parents(".with-menu").find("ul").slideToggle(500,"easeOutCubic")})},copyright:function(){var e=document.querySelector(".yearN"),t=(new Date).getFullYear().toString();t.length&&(e.innerText=t)},getBrowser:function(){var e,t=navigator.userAgent,a=function(){return t.search(/Edge/)>-1?"edge":t.search(/MSIE/)>-1?"ie":t.search(/Trident/)>-1?"ie11":t.search(/Firefox/)>-1?"firefox":t.search(/Opera/)>-1?"opera":t.search(/OPR/)>-1?"operaWebkit":t.search(/YaBrowser/)>-1?"yabrowser":t.search(/Chrome/)>-1?"chrome":t.search(/Safari/)>-1?"safari":t.search(/maxHhon/)>-1?"maxHhon":void 0}();switch(a){case"edge":e=t.split("Edge")[1].split("/")[1];break;case"ie":e=t.split("MSIE ")[1].split(";")[0];break;case"ie11":a="ie",e=t.split("; rv:")[1].split(")")[0];break;case"firefox":e=t.split("Firefox/")[1];break;case"opera":e=t.split("Version/")[1];break;case"operaWebkit":a="opera",e=t.split("OPR/")[1];break;case"yabrowser":e=t.split("YaBrowser/")[1].split(" ")[0];break;case"chrome":e=t.split("Chrome/")[1].split(" ")[0];break;case"safari":e=t.split("Safari/")[1].split("")[0];break;case"maxHhon":e=t.split("maxHhon/")[1]}var i="desktop";/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase())&&(i="mobile");var o;try{o={platform:i,browser:a,versionFull:e,versionShort:e.split(".")[0]}}catch(r){o={platform:i,browser:"unknown",versionFull:"unknown",versionShort:"unknown"}}return o},swiperSliders:function(){new Swiper(".general-slider .swiper-container",{loop:!0,autoplay:4e3,speed:2e3,pagination:".general-slider .swiper-pagination",paginationClickable:!0,parallax:!0}),new Swiper(".new-product .swiper-container",{loop:!0,speed:1e3,slidesPerView:4,spaceBetween:0,breakpoints:{992:{slidesPerView:3},767:{slidesPerView:2},500:{slidesPerView:1}}}),new Swiper(".popular-product .swiper-container",{loop:!0,speed:1e3,slidesPerView:4,spaceBetween:0,nextButton:".popular-product .swiper-button-next",prevButton:".popular-product .swiper-button-prev",breakpoints:{992:{slidesPerView:3},767:{slidesPerView:2},500:{slidesPerView:1}}})},pagePreloader:function(){window.addEventListener("load",function(){setTimeout(function(){i.classList.add("loaded")},1e3),setTimeout(function(){document.querySelector(".preloader").style.display="none"},1600)})},validateForm:function(){function e(e){function t(e,t){t?(e.parents(".required-field").addClass(a).removeClass(i),o++):e.parents(".required-field").addClass(i).removeClass(a)}var a="error",i="pass",o=(e.find("[required]"),0),r=void 0,n=e.find(".password").val(),s=e.find(".password_1").val(),l=!1,c=!1,d=!1;return e.find("[required]").each(function(){switch($(this).attr("data-validate")){case void 0:t($(this),0===$.trim($(this).val()).length);break;case"email":l=!0,r=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,t($(this),!r.test($.trim($(this).val()))),l=!1;break;case"phone":d=!0,r=/[0-9 -()+]{10}$/,t($(this),!r.test($.trim($(this).val()))),d=!1;break;case"pass":c=!0,r=/^[a-zA-Z0-9_-]{6,}$/,t($(this),!r.test($.trim($(this).val()))),c=!1;break;case"pass1":t($(this),s!==n||0===$.trim($(this).val()).length);break;default:r=new RegExp($(this).attr("data-validate"),"g"),t($(this),!r.test($.trim($(this).val())))}}),$(".js_valid_radio").each(function(){for(var e=$(this).find("input.required"),t=0,r=0;r<e.length;r++){if($(e[r]).is(":checked")===!0){t=1;break}t=0}0===t?($(this).addClass(a).removeClass(i),o=1):$(this).addClass(i).removeClass(a)}),0===o||(e.find("."+a+" input:first").focus(),!1)}$(document).on("click",".forgot-pass",function(){$(".input-field--oher-pass").slideToggle(500,"easeOutCubic"),$(this).parents("form").toggleClass("act")}),$('.js_validate button[type="submit"]').on("click",function(){return e($(this).parent(".js_validate"))})},materialPlagins:function(){if($(".tab-box .product-char .product-char-row:gt(8)").hide(),$(".js_all_char").on("click",function(){$(this).hasClass("active")?($(this).removeClass("active"),$(".tab-box .product-char .product-char-row:gt(8)").hide("slow")):($(this).addClass("active"),$(".tab-box .product-char .product-char-row").show("slow"))}),$(".product-big-images img").elevateZoom({gallery:"gal-product",cursor:"pointer",galleryActiveClass:"active",zoomType:"lens",lensShape:"round",lensSize:255,imageCrossfade:!0}),$(".to-wishlist,.to-compare").on("click",function(){return $(this).toggleClass("active"),!1}),$(".materialboxed").materialbox(),null!==document.querySelector(".grid")){new Masonry(".grid",{itemSelector:".grid-item",gutter:30})}$(".prod-txt").liTextLength({length:70,afterLength:"...",fullText:!1}),$(".menu-button-general").sideNav({menuWidth:280,edge:"left",closeOnClick:!0,draggable:!0}),$(".dropdown-button").dropdown(),o===!1&&$(".dropdown-head-nav").dropdown({hover:!0,outDuration:500}),$("select").not(".my_select_box").material_select(),$(".collapsible").collapsible(),$(".modal").modal({opacity:1,ready:function(e){$(".overlay").fadeIn(500)},complete:function(){$(".overlay").fadeOut(500)}}),$(".materialboxed").materialbox()},appearFunction:function(){o===!1?$(".animated").appear(function(){var e=$(this),t=e.data("animation");if(!e.hasClass("visible")){var a=e.data("animation-delay");a?setTimeout(function(){e.addClass(t+" visible")},a):e.addClass(t+" visible")}},{accX:0,accY:-200}):$(".animated").each(function(){var e=$(this).data("animation");$(this).addClass(e+" visible")})}});r.initialize(),window.addEventListener("scroll",function(){t=window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,t>50?document.querySelector(".header").classList.add("fix"):document.querySelector(".header").classList.remove("fix")}),window.addEventListener("load",function(){}),window.addEventListener("resize",function(){})}();